name: üîç Verificar Secret

on:
  workflow_dispatch:

jobs:
  check-secret:
    runs-on: ubuntu-latest
    steps:
      - name: Check if CLAUDECODE_ACCESS_TOKEN exists
        env:
          TOKEN: ${{ secrets.CLAUDECODE_ACCESS_TOKEN }}
        run: |
          echo "üîç Verificando secret CLAUDECODE_ACCESS_TOKEN..."

          if [ -z "$TOKEN" ]; then
            echo "‚ùå SECRET N√ÉO ENCONTRADO!"
            echo ""
            echo "Para adicionar:"
            echo "1. V√° em: https://github.com/Contadores-de-Elite-1/lovable-Celite/settings/secrets/actions"
            echo "2. Clique em 'New repository secret'"
            echo "3. Nome: CLAUDECODE_ACCESS_TOKEN"
            echo "4. Valor: sbp_24229358afc4f9d2fc4b0da2382cb80005401959"
            echo ""
            exit 1
          else
            echo "‚úÖ SECRET ENCONTRADO!"
            echo ""
            echo "Primeiros caracteres: ${TOKEN:0:10}..."
            echo ""
            echo "üéâ Deploy autom√°tico vai funcionar!"
          fi
