# üìö Base de Dados para Consulta - Lovable-Celite

**Vers√£o**: 1.0  
**Data**: Novembro 2025  
**Objetivo**: Centralizar todos os documentos de refer√™ncia do projeto

---

## üéØ Como Usar Este Documento

Este √© o **√≠ndice mestre** de toda a documenta√ß√£o do Lovable-Celite. Use-o para:
- Encontrar rapidamente informa√ß√µes espec√≠ficas
- Entender a estrutura do projeto
- Consultar regras de neg√≥cio
- Revisar decis√µes t√©cnicas
- Validar implementa√ß√µes

---

## üìë √çNDICE DE DOCUMENTOS

### **1. FRAMEWORKS**

#### **1.1 Framework Resumido** ‚≠ê **PRINCIPAL**
- **Arquivo**: `/FRAMEWORK_LOVABLE_CELITE.md`
- **Linhas**: ~500
- **Conte√∫do**: Guia r√°pido, direto ao ponto
- **Quando usar**: Refer√™ncia r√°pida durante desenvolvimento
- **Se√ß√µes principais**:
  - Problema (7 dores emocionais)
  - Solu√ß√£o (4 pilares)
  - Arquitetura t√©cnica
  - Funcionalidades principais
  - Checklist implementa√ß√£o
  - M√©tricas de sucesso

#### **1.2 Framework Completo**
- **Arquivo**: `/docs/FRAMEWORK_COMPLETO.md`
- **Linhas**: 4.372
- **Conte√∫do**: Documenta√ß√£o exaustiva com profundidade psicogr√°fica
- **Quando usar**: Planejamento estrat√©gico, pitch investidores, onboarding equipe
- **Se√ß√µes principais**:
  - Se√ß√£o 0: Psicografia completa do cliente-alvo (Carlos)
  - Se√ß√£o 1: Vis√£o estrat√©gica
  - Se√ß√£o 2: Insights do mercado
  - Se√ß√£o 3: Arquitetura t√©cnica
  - Se√ß√£o 4: Cria√ß√£o interativa
  - Se√ß√£o 5: Lan√ßamento e PDCA
  - Ap√™ndice: Por que cada feature existe

#### **1.3 Framework Original (Exemplo)**
- **Arquivo**: `/docs/Framework`
- **Linhas**: 538
- **Conte√∫do**: Framework exemplo usado como base
- **Quando usar**: Refer√™ncia de estrutura, compara√ß√£o

---

### **2. REGRAS DE NEG√ìCIO**

#### **2.1 Regras do Programa de Bonifica√ß√µes** ‚≠ê **CR√çTICO**
- **Arquivo**: `/docs/17 bonificacoes_Regras do programa`
- **Linhas**: 462
- **Conte√∫do**: Regras COMPLETAS do programa de comiss√µes e bonifica√ß√µes
- **Quando usar**: Implementar sistema de comiss√µes, validar c√°lculos
- **Se√ß√µes principais**:
  - 7 tipos de comiss√£o (ativa√ß√£o, recorrente, override, progress√£o, volume, LTV, contador)
  - Sistema TIER de performance
  - Porto Seguro Elite/Semi-Elite
  - Janela de Reativa√ß√£o (90/180 dias)
  - Planos e valores (Pro R$100, Premium R$130, Top R$180)
  - Incentivos ao cliente (cashback 50%)
  - Lead Diamante (defini√ß√£o operacional completa)

#### **2.2 Prompt Original**
- **Arquivo**: `/docs/Prompt 1`
- **Linhas**: 323
- **Conte√∫do**: Prompt inicial com especifica√ß√µes do projeto
- **Quando usar**: Entender origem do projeto, validar requisitos iniciais
- **Se√ß√µes principais**:
  - Sistema de links rastre√°veis (`/i/:token`, `/r/:token`)
  - Fluxo de indica√ß√£o de clientes
  - Fluxo de convite de contadores
  - Estrutura de comiss√µes
  - Mini-LP de convers√£o

---

### **3. PERSONA & AVATAR**

#### **3.1 Avatar do Cliente-Alvo** ‚≠ê **ESSENCIAL PARA UX**
- **Arquivo**: `/docs/AVATAR`
- **Linhas**: 679
- **Conte√∫do**: Psicografia PROFUNDA do contador (Carlos)
- **Quando usar**: Tomar decis√µes de UX, escrever copy, validar features
- **Se√ß√µes principais**:
  - Perfil demogr√°fico (42 anos, Aracaju, 18 anos experi√™ncia)
  - AS 7 DORES EMOCIONAIS:
    1. **MEDO** (paralisa decis√£o, tem R$15 mil mas n√£o investe)
    2. **DESVALORIZA√á√ÉO** ("√â s√≥ contabilidade mesmo")
    3. **PRESS√ÉO SOCIAL** (fam√≠lia tem pena)
    4. **VERGONHA** (filhos sem orgulho do pai) ‚Üê DOR MAIS PROFUNDA
    5. **SOLID√ÉO** ("n√£o posso falar com ningu√©m")
    6. **POTENCIAL DESPERDI√áADO** (18 anos fazendo trabalho de auxiliar)
    7. **ESTAGNA√á√ÉO** (mesmo faturamento h√° 5 anos)
  - OS 10 ANSEIOS E SONHOS:
    1. **Filhos terem orgulho do pai** ‚Üê ANSEIO SUPREMO
    2. Ser respeitado como especialista
    3. Trabalhar 6-8h/dia (n√£o 12h)
    4. Fam√≠lia vibrar com conquistas
    5. Deixar legado positivo
    + 5 secund√°rios
  - Hist√≥ria Real: Di√°rio de Carlos
  - Gatilhos de marketing
  - Comportamento de compra

---

### **4. DOCUMENTA√á√ÉO T√âCNICA**

#### **4.1 PRD do Portal de Transpar√™ncia (Portal dos Contadores)** ‚≠ê **CR√çTICO**
- **Arquivo**: `/docs/PRD_LOVABLE_CELITE.md`
- **Linhas**: 1.275
- **Conte√∫do**: Documento t√©cnico 100% implement√°vel - Sistema de comiss√µes MLM/MMN
- **Respons√°vel**: DEV 2
- **Quando usar**: Durante desenvolvimento, testes e valida√ß√£o t√©cnica
- **Se√ß√µes principais**:
  1. Vis√£o Geral T√©cnica
  2. AS 17 BONIFICA√á√ïES COMPLETAS (com f√≥rmulas)
  3. Stack Tecnol√≥gica
  4. Portal de Transpar√™ncia (5 p√°ginas)
  5. Modelo de Dados (6 tabelas SQL)
  6. F√≥rmulas de C√°lculo (TypeScript)
  7. Regras de Neg√≥cio (TIER, Porto Seguro, Alertas)
  8. Seguran√ßa (RLS, AES-256, Audit Logs)
  9. Requisitos Funcionais
  10. APIs e Webhooks
  11. Roadmap T√©cnico (12 semanas)
  12. Gloss√°rio

#### **4.2 Fluxo DEV1: App de Onboarding** ‚≠ê **NOVO**
- **Arquivo**: `/docs/FLUXO_DEV1_ONBOARDING.md`
- **Linhas**: ~800
- **Conte√∫do**: Especifica√ß√£o completa do App de Onboarding de Clientes
- **Respons√°vel**: DEV 1
- **Quando usar**: Implementar sistema de capta√ß√£o de clientes
- **Se√ß√µes principais**:
  - 7 telas mobile-first (Landing ‚Üí Sucesso)
  - Integra√ß√£o Stripe Checkout
  - Upload de documentos (Supabase Storage)
  - Assinatura digital (Canvas HTML5)
  - Gera√ß√£o de PDF (PDFKit)
  - Webhook Stripe (processamento pagamento)
  - C√°lculo autom√°tico de comiss√µes
  - Checklist implementa√ß√£o (4 semanas)

#### **4.3 Migra√ß√£o ASAAS ‚Üí Stripe** ‚≠ê **CR√çTICO**
- **Arquivo**: `/docs/MIGRACAO_ASAAS_PARA_STRIPE.md`
- **Linhas**: ~600
- **Conte√∫do**: Plano completo de migra√ß√£o sem downtime
- **Respons√°vel**: DEV 2
- **Quando usar**: Substituir gateway de pagamento atual
- **Se√ß√µes principais**:
  - Arquitetura atual (ASAAS) vs Nova (Stripe)
  - Problemas identificados no c√≥digo atual
  - Plano de migra√ß√£o em 4 fases (4 semanas)
  - Stripe Connect (split autom√°tico de comiss√µes)
  - Edge Function webhook-stripe completa
  - Scripts de migra√ß√£o (contadores + clientes)
  - Rollback plan
  - Monitoramento e alertas

#### **4.4 Fluxo de Comiss√µes**
- **Arquivo**: `/FLUXO_COMISSOES.md`
- **Conte√∫do**: Fluxo completo desde pagamento at√© comiss√£o paga
- **Quando usar**: Implementar webhooks, edge functions, CRON jobs
- **Se√ß√µes principais**:
  - Processo webhook Stripe
  - C√°lculo de comiss√µes (7 tipos)
  - Aprova√ß√£o admin
  - Pagamento autom√°tico

#### **4.5 Fluxo do App (Rascunhos)** ‚ÑπÔ∏è **REFER√äNCIA**
- **Arquivo**: `/docs/Fluxo App`
- **Linhas**: 521
- **Conte√∫do**: Rascunhos e discuss√µes sobre o fluxo de onboarding
- **Quando usar**: Entender origem das decis√µes do App de Onboarding
- **Nota**: Documento informal com ideias misturadas (GPT + Claude + Manual)

#### **4.6 Roadmap de Desenvolvimento**
- **Arquivo**: `/DEVELOPMENT_ROADMAP.md`
- **Conte√∫do**: Cronograma, prioridades, blockers cr√≠ticos
- **Quando usar**: Planejamento sprint, tracking progresso
- **Se√ß√µes principais**:
  - Timeline 12 semanas
  - Blockers cr√≠ticos
  - Matriz de testes
  - Breakdown de custos

#### **4.7 Overview do Codebase**
- **Arquivo**: `/CODEBASE_OVERVIEW.md`
- **Conte√∫do**: Estrutura do c√≥digo frontend
- **Quando usar**: Onboarding dev, refactoring, code review
- **Se√ß√µes principais**:
  - Estrutura de diret√≥rios
  - Arquitetura de componentes
  - Padr√µes de c√≥digo
  - Hooks customizados
  - Integra√ß√£o Supabase

#### **4.4 ENUMs Cr√≠ticos**
- **Arquivo**: `/ENUM_CRITICAL_VALUES.md`
- **Conte√∫do**: Valores ENUM que N√ÉO podem mudar (hardcoded em Edge Functions)
- **Quando usar**: Migrations, valida√ß√µes, debugging
- **Aten√ß√£o**: ‚ö†Ô∏è MODIFICAR ESSES VALORES QUEBRA O SISTEMA

#### **4.5 Relat√≥rios de Erros**
- **Arquivo**: `/RELATORIO_COMPLETO_CLAUDE_SONNET.md`
- **Conte√∫do**: Jornada de corre√ß√£o webhook ASAAS
- **Quando usar**: Debugging, entender decis√µes passadas
- **Se√ß√µes principais**:
  - Problemas iniciais
  - Erros encontrados
  - Solu√ß√µes implementadas
  - Li√ß√µes aprendidas

#### **4.6 Handover Claude Sonnet**
- **Arquivo**: `/HANDOVER_PARA_CLAUDE_SONNET.md`
- **Conte√∫do**: Situa√ß√£o atual do projeto, prioridades imediatas
- **Quando usar**: Transfer de contexto, retomar trabalho

---

### **5. CONFIGURA√á√ïES**

#### **5.1 Package.json**
- **Arquivo**: `/package.json`
- **Conte√∫do**: Depend√™ncias, scripts, vers√µes
- **Depend√™ncias principais**:
  - React 18, Vite 5
  - Supabase client
  - TanStack Query v5
  - Shadcn/UI (Radix UI + Tailwind)
  - Framer Motion

#### **5.2 Supabase Config**
- **Arquivo**: `/supabase/config.toml`
- **Conte√∫do**: Configura√ß√£o Edge Functions, JWT, CORS
- **Quando usar**: Deploy, troubleshooting

#### **5.3 Regras do Projeto**
- **Arquivo**: `/.cursor/rules/regrasdoprojeto.mdc`
- **Linhas**: 57
- **Conte√∫do**: Padr√µes de c√≥digo, arquitetura, boas pr√°ticas
- **Quando usar**: Code review, novos devs

---

### **6. SCRIPTS & MIGRATIONS**

#### **6.1 Migrations SQL**
- **Diret√≥rio**: `/supabase/migrations/`
- **Conte√∫do**: Hist√≥rico completo do schema do banco
- **Migrations cr√≠ticas**:
  - `20251103234439_*.sql` - Schema inicial (tabelas, ENUMs, RLS)
  - `20251112000200_*.sql` - RPC `executar_calculo_comissoes` (transacional)
  - `20251119000000_*.sql` - Fix ENUM `tipo_plano` (pro/premium/top)

#### **6.2 Scripts de Teste**
- **Arquivo**: `/supabase/scripts/test-calcular-comissoes.sh`
- **Conte√∫do**: Script bash para testar edge function localmente
- **Quando usar**: Desenvolvimento, debugging comiss√µes

---

## üîç CONSULTAS R√ÅPIDAS

### **Encontrar Informa√ß√£o Sobre:**

#### **"Quanto o contador ganha?"**
‚Üí `docs/17 bonificacoes_Regras do programa` (se√ß√£o "7 tipos de comiss√£o")
‚Üí `FRAMEWORK_LOVABLE_CELITE.md` (se√ß√£o "Sistema de Comiss√µes")

#### **"Como funciona o Lead Diamante?"**
‚Üí `docs/17 bonificacoes_Regras do programa` (se√ß√£o "Lead Diamante")
‚Üí `docs/FRAMEWORK_COMPLETO.md` (se√ß√£o "Lead Diamante: O Reconhecimento Supremo")

#### **"Quais as dores do cliente?"**
‚Üí `docs/AVATAR` (se√ß√£o "AS 7 DORES EMOCIONAIS")
‚Üí `docs/FRAMEWORK_COMPLETO.md` (Se√ß√£o 0 - Psicografia)

#### **"Como calcular comiss√µes?"**
‚Üí `FLUXO_COMISSOES.md`
‚Üí `supabase/functions/calcular-comissoes/index.ts`
‚Üí `docs/17 bonificacoes_Regras do programa`

#### **"Quais os valores dos planos?"**
‚Üí `docs/17 bonificacoes_Regras do programa` (Pro R$100, Premium R$130, Top R$180)
‚Üí `docs/Prompt 1`

#### **"Como funciona o Sistema TIER?"**
‚Üí `docs/17 bonificacoes_Regras do programa` (se√ß√£o "Sistema TIER de Penalidades")
‚Üí `FRAMEWORK_LOVABLE_CELITE.md` (se√ß√£o "Sistema TIER")

#### **"Quais as m√©tricas de sucesso?"**
‚Üí `FRAMEWORK_LOVABLE_CELITE.md` (se√ß√£o "M√©tricas de Sucesso")
‚Üí `docs/FRAMEWORK_COMPLETO.md` (Se√ß√£o 5 - Lan√ßamento e PDCA)

#### **"Qual a stack t√©cnica?"**
‚Üí `FRAMEWORK_LOVABLE_CELITE.md` (se√ß√£o "Arquitetura T√©cnica")
‚Üí `package.json`
‚Üí `CODEBASE_OVERVIEW.md`

#### **"Como fazer onboarding de novo dev?"**
‚Üí `FRAMEWORK_LOVABLE_CELITE.md` (leitura 20 min)
‚Üí `CODEBASE_OVERVIEW.md`
‚Üí `docs/FRAMEWORK_COMPLETO.md` (leitura 2h, opcional)
‚Üí `.cursor/rules/regrasdoprojeto.mdc`

#### **"Como escrever copy que converte?"**
‚Üí `docs/AVATAR` (gatilhos de marketing)
‚Üí `docs/FRAMEWORK_COMPLETO.md` (Se√ß√£o 0 - Gatilhos de Marketing)
‚Üí Frase chave: **"Meus filhos ter√£o orgulho de mim"**

---

## üìä TABELA COMPARATIVA DE DOCUMENTOS

| Documento | Linhas | Profundidade | Atualiza√ß√£o | Uso Principal |
|-----------|--------|--------------|-------------|---------------|
| **FRAMEWORK_LOVABLE_CELITE.md** | ~500 | ‚≠ê‚≠ê‚≠ê M√©dio | Novembro 2025 | Refer√™ncia di√°ria dev |
| **FRAMEWORK_COMPLETO.md** | 4.372 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê M√°ximo | Novembro 2025 | Estrat√©gia, pitch, onboarding |
| **17 bonificacoes_Regras do programa** | 462 | ‚≠ê‚≠ê‚≠ê‚≠ê Alto | Novembro 2025 | Regras neg√≥cio, valida√ß√£o |
| **AVATAR** | 679 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê M√°ximo | Novembro 2025 | UX, copy, decis√µes produto |
| **Prompt 1** | 323 | ‚≠ê‚≠ê M√©dio | Novembro 2025 | Contexto inicial |
| **FLUXO_COMISSOES.md** | ~200 | ‚≠ê‚≠ê‚≠ê Alto | Novembro 2025 | Implementa√ß√£o webhooks |
| **DEVELOPMENT_ROADMAP.md** | ~150 | ‚≠ê‚≠ê M√©dio | Novembro 2025 | Planejamento sprint |
| **CODEBASE_OVERVIEW.md** | ~400 | ‚≠ê‚≠ê‚≠ê Alto | Novembro 2025 | Arquitetura frontend |

---

## üéØ HIERARQUIA DE CONSULTA (Ordem de Import√¢ncia)

### **Para Desenvolvedores:**
1. **FRAMEWORK_LOVABLE_CELITE.md** (guia di√°rio)
2. **17 bonificacoes_Regras do programa** (l√≥gica neg√≥cio)
3. **CODEBASE_OVERVIEW.md** (arquitetura c√≥digo)
4. **FLUXO_COMISSOES.md** (webhooks/edge functions)
5. **FRAMEWORK_COMPLETO.md** (contexto completo)

### **Para Designers/UX:**
1. **AVATAR** (persona profunda)
2. **FRAMEWORK_COMPLETO.md** (Se√ß√£o 0 - Psicografia)
3. **FRAMEWORK_LOVABLE_CELITE.md** (Decis√µes de UX)
4. **17 bonificacoes_Regras do programa** (features a desenhar)

### **Para Product Owners:**
1. **FRAMEWORK_COMPLETO.md** (vis√£o estrat√©gica completa)
2. **AVATAR** (entender cliente profundamente)
3. **17 bonificacoes_Regras do programa** (regras neg√≥cio)
4. **DEVELOPMENT_ROADMAP.md** (timeline)
5. **FRAMEWORK_LOVABLE_CELITE.md** (refer√™ncia r√°pida)

### **Para Marketing/Copywriters:**
1. **AVATAR** (dores, anseios, gatilhos)
2. **FRAMEWORK_COMPLETO.md** (Se√ß√£o 0 - Gatilhos de Marketing)
3. **Prompt 1** (fluxos de convers√£o)
4. **FRAMEWORK_LOVABLE_CELITE.md** (features a destacar)

### **Para Investidores/Stakeholders:**
1. **FRAMEWORK_COMPLETO.md** (vis√£o completa + m√©tricas)
2. **FRAMEWORK_LOVABLE_CELITE.md** (overview t√©cnico)
3. **AVATAR** (valida√ß√£o de mercado)
4. **DEVELOPMENT_ROADMAP.md** (timeline + custos)

---

## üí° DICAS DE USO

### **‚úÖ Boas Pr√°ticas:**
- Leia **FRAMEWORK_LOVABLE_CELITE.md** primeiro (20 min)
- Consulte **AVATAR** antes de qualquer decis√£o de UX
- Valide c√°lculos contra **17 bonificacoes_Regras do programa**
- Use **FRAMEWORK_COMPLETO.md** para contexto profundo quando necess√°rio

### **‚ùå Evite:**
- Pular a leitura do AVATAR (vai criar UX sem prop√≥sito)
- Modificar ENUMs sem consultar **ENUM_CRITICAL_VALUES.md**
- Implementar comiss√µes sem entender **FLUXO_COMISSOES.md**
- Ignorar regras de **17 bonificacoes_Regras do programa** (vai quebrar neg√≥cio)

---

## üîÑ ATUALIZA√á√ÉO DESTA BASE

**√öltima atualiza√ß√£o**: Novembro 2025  
**Respons√°vel**: Claude Sonnet 4.5 (Anthropic)

**Quando atualizar:**
- Novos documentos criados
- Mudan√ßas significativas em regras de neg√≥cio
- Refactoring de arquitetura
- Novos requisitos aprovados

**Como atualizar:**
1. Adicionar novo documento na se√ß√£o apropriada
2. Atualizar tabela comparativa
3. Adicionar "Consultas R√°pidas" relevantes
4. Revisar hierarquia de consulta se necess√°rio

---

## üìû SUPORTE

**Para d√∫vidas sobre:**
- **Regras de neg√≥cio**: Consultar `17 bonificacoes_Regras do programa` primeiro
- **Dores/anseios do cliente**: Consultar `AVATAR`
- **Arquitetura t√©cnica**: Consultar `FRAMEWORK_LOVABLE_CELITE.md`
- **Contexto completo**: Consultar `FRAMEWORK_COMPLETO.md`

**Se a informa√ß√£o n√£o estiver documentada:**
- Registrar d√∫vida
- Buscar resposta
- **ATUALIZAR ESTA BASE** com a resposta

---

## üíé PRINC√çPIO FUNDAMENTAL

**Lembre-se sempre:**

Todo o Lovable-Celite existe para entregar **UMA √öNICA COISA**:

> **"Meus filhos ter√£o orgulho de mim."**

Se uma feature, decis√£o t√©cnica ou mudan√ßa de design **N√ÉO contribui** para isso, **N√ÉO deve existir**.

**50% t√©cnico + 50% emocional = 100% transforma√ß√£o**

---

**Fim da Base de Dados para Consulta**

**Autor**: Claude Sonnet 4.5 (Anthropic)  
**Data**: Novembro 2025  
**Vers√£o**: 1.0

